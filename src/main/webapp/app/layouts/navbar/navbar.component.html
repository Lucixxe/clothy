<header class="header" data-cy="navbar">
  <div class="logo">
    <span class="brand">Clothy</span>
  </div>

  <a class="floating-cart" routerLink="/cart-page">
    <i class="fas fa-shopping-cart"></i>
    <span class="cart-count"></span>
  </a>

  <nav class="nav-links">
    <a href="#">Accueil</a>
    <a [routerLink]="['/articles-page']" [queryParams]="{ category: 'homme' }">Homme</a>
    <a [routerLink]="['/articles-page']" [queryParams]="{ category: 'femme' }">Femme</a>
    <a [routerLink]="['/articles-page']" [queryParams]="{ category: 'enfants' }">Enfants</a>

    <div class="dropdown" *jhiHasAnyAuthority="'ROLE_ADMIN'" data-cy="entity">
      <a href="#" class="dropdown-toggle">Entities</a>
      <div class="dropdown-menu">
        <li>
          <a
            class="dropdown-item"
            routerLink="/category"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            (click)="collapseNavbar()"
          >
            <fa-icon icon="asterisk" [fixedWidth]="true"></fa-icon>
            <span jhiTranslate="global.menu.entities.category">Category</span>
          </a>
        </li>
        <li>
          <a
            class="dropdown-item"
            routerLink="/product"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            (click)="collapseNavbar()"
          >
            <fa-icon icon="asterisk" [fixedWidth]="true"></fa-icon>
            <span jhiTranslate="global.menu.entities.product">Product</span>
          </a>
        </li>
        <li>
          <a
            class="dropdown-item"
            routerLink="/customer"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            (click)="collapseNavbar()"
          >
            <fa-icon icon="asterisk" [fixedWidth]="true"></fa-icon>
            <span jhiTranslate="global.menu.entities.customer">Customer</span>
          </a>
        </li>
        <li>
          <a
            class="dropdown-item"
            routerLink="/cart"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            (click)="collapseNavbar()"
          >
            <fa-icon icon="asterisk" [fixedWidth]="true"></fa-icon>
            <span jhiTranslate="global.menu.entities.cart">Cart</span>
          </a>
        </li>
        <li>
          <a
            class="dropdown-item"
            routerLink="/cart-item"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            (click)="collapseNavbar()"
          >
            <fa-icon icon="asterisk" [fixedWidth]="true"></fa-icon>
            <span jhiTranslate="global.menu.entities.cartItem">Cart Item</span>
          </a>
        </li>
        <li>
          <a
            class="dropdown-item"
            routerLink="/customer-order"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            (click)="collapseNavbar()"
          >
            <fa-icon icon="asterisk" [fixedWidth]="true"></fa-icon>
            <span jhiTranslate="global.menu.entities.customerOrder">Customer Order</span>
          </a>
        </li>
        <!-- jhipster-needle-add-entity-to-menu - JHipster will add entities to the menu here -->
      </div>
    </div>
  </nav>

  <div class="auth-buttons" data-cy="accountMenu">
    <!-- Si pas connecté -->
    <ng-container *ngIf="!account()">
      <a class="alert-link" routerLink="/login" data-cy="login">Se Connecter</a>
      <a class="alert-link" routerLink="/account/register" data-cy="register">S'Inscrire</a>
    </ng-container>

    <!-- Si connecté -->
    <ng-container *ngIf="account() as user">
      <!-- Menu Administration pour les admins -->
      <div class="dropdown" *jhiHasAnyAuthority="'ROLE_ADMIN'" data-cy="adminMenu">
        <a href="#" class="dropdown-toggle alert-link">Administration</a>
        <div class="dropdown-menu">
          <a class="dropdown-item" routerLink="/admin/user-management">Gestion des utilisateurs</a>
          <a class="dropdown-item" routerLink="/admin/metrics">Métriques</a>
          <a class="dropdown-item" routerLink="/admin/health">Diagnostics</a>
          <a class="dropdown-item" routerLink="/admin/configuration">Configuration</a>
          <a class="dropdown-item" routerLink="/admin/logs">Logs</a>
          <a class="dropdown-item" routerLink="/admin/docs">API</a>
        </div>
      </div>

      <!-- Menu Compte utilisateur -->
      <div class="dropdown">
        <a href="#" class="dropdown-toggle alert-link">{{ user.firstName || user.login }}</a>
        <div class="dropdown-menu">
          <a class="dropdown-item" routerLink="/account/settings" data-cy="settings">Paramètres</a>
          <a class="dropdown-item" routerLink="/account/password" data-cy="passwordItem">Mot de passe</a>
          <button class="dropdown-item btn-logout" (click)="logout()" data-cy="logout">Se Déconnecter</button>
        </div>
      </div>
    </ng-container>
  </div>
</header>
